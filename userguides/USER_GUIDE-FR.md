# üìï ST Memory Books - Votre Assistant de M√©moire pour Chat IA

**Transformez vos conversations interminables en souvenirs organis√©s et consultables !**

Vous avez besoin que le bot se souvienne de certaines choses, mais la conversation est trop longue pour le contexte ? Vous voulez suivre automatiquement les points importants de l'intrigue sans prendre de notes manuellement ? ST Memory Books fait exactement cela : il surveille vos chats et cr√©e des r√©sum√©s intelligents pour que vous ne perdiez plus jamais le fil de votre histoire.

(Vous cherchez des d√©tails techniques sur les coulisses ? Peut-√™tre pr√©f√©rerez-vous [Comment fonctionne STMB](userguides\howSTMBworks-en.md) (en anglais).)

---

## üöÄ D√©marrage Rapide (Votre premier souvenir en 5 minutes !)

**Nouveau sur ST Memory Books ?** Configurons votre premier souvenir automatique en quelques clics :

### √âtape 1 : Trouver l'Extension

- Cherchez l'ic√¥ne de la baguette magique (ü™Ñ) √† c√¥t√© de votre zone de saisie de chat.
- Cliquez dessus, puis cliquez sur **"Memory Books"**.
- Vous verrez le panneau de contr√¥le de ST Memory Books.

### √âtape 2 : Activer l'Auto-Magie

- Dans le panneau de contr√¥le, trouvez **"Auto-Summary"** (R√©sum√© Auto).
- Mettez-le sur **ON** (Activ√©).
- R√©glez-le pour cr√©er des souvenirs tous les **20-30 messages** (un bon point de d√©part).
- C'est tout ! üéâ

### √âtape 3 : Discutez Normalement

- Continuez √† discuter comme d'habitude.
- Apr√®s 20-30 nouveaux messages, ST Memory Books va automatiquement :
  - Choisir les meilleures limites de sc√®ne.
  - Demander √† votre IA d'√©crire un r√©sum√©.
  - L'enregistrer dans votre collection de souvenirs.
  - Vous afficher une notification une fois termin√©.

**F√©licitations !** Vous avez maintenant une gestion automatis√©e de la m√©moire. Fini l'oubli de ce qui s'est pass√© il y a plusieurs chapitres !

---

## üí° Ce que fait r√©ellement ST Memory Books

Consid√©rez ST Memory Books comme votre **biblioth√©caire IA personnel** pour vos conversations :

### ü§ñ **R√©sum√©s Automatiques**

_"Je ne veux pas y penser, je veux juste que √ßa marche"_

- Surveille votre chat en arri√®re-plan.
- Cr√©e automatiquement des souvenirs tous les X messages.
- Parfait pour les longs jeux de r√¥le (RP), l'√©criture cr√©ative ou les histoires en cours.

### ‚úã **Cr√©ation Manuelle de Souvenirs**

_"Je veux contr√¥ler ce qui est sauvegard√©"_

- Marquez les sc√®nes importantes avec de simples boutons fl√©ch√©s (‚ñ∫ ‚óÑ).
- Cr√©ez des souvenirs √† la demande pour des moments sp√©ciaux.
- Id√©al pour capturer les points cl√©s de l'intrigue ou le d√©veloppement des personnages.

### üìä **Side Prompts & Traceurs Intelligents**

_"Je veux suivre les relations, les fils de l'intrigue ou des statistiques"_

- Des fragments de prompt r√©utilisables qui am√©liorent la g√©n√©ration de souvenirs.
- Biblioth√®que de mod√®les avec des traceurs pr√™ts √† l'emploi.
- Prompts IA personnalis√©s pour suivre tout ce que vous voulez.
- Mise √† jour automatique des tableaux de scores, statuts relationnels, r√©sum√©s d'intrigue.
- Exemples : "Qui aime qui ?", "Statut actuel de la qu√™te", "Suivi de l'humeur du personnage".

### üìö **Collections de Souvenirs (Lorebooks)**

_L√† o√π vivent tous vos souvenirs_

- Organis√©s et consultables automatiquement.
- Fonctionne avec le syst√®me de "Lorebook" int√©gr√© √† SillyTavern.
- Votre IA peut r√©f√©rencer des souvenirs pass√©s dans de nouvelles conversations.

---

## üéØ Choisissez Votre Style

<details>
<summary><strong>üîÑ "R√©glez et Oubliez" (Recommand√© pour les d√©butants)</strong></summary>

**Parfait si vous voulez :** Une automatisation sans intervention qui fonctionne tout simplement.

**Comment √ßa marche :**

1. Activez "Auto-Summary" dans les param√®tres.
2. Choisissez la fr√©quence de cr√©ation des souvenirs (tous les 20-50 messages fonctionne bien).
3. Continuez √† discuter normalement - les souvenirs se cr√©ent automatiquement !

**Ce que vous obtenez :**

- Aucun travail manuel requis.
- Cr√©ation de souvenirs coh√©rente.
- Ne manquez jamais les moments importants de l'histoire.
- Fonctionne aussi bien dans les chats individuels que de groupe.

**Conseil de pro :** Commencez avec 30 messages, puis ajustez en fonction de votre style de chat. Les chats rapides peuvent n√©cessiter 50+, les chats d√©taill√©s et lents peuvent pr√©f√©rer 20.

</details>

<details>
<summary><strong>‚úã "Contr√¥le Manuel" (Pour une m√©moire s√©lective)</strong></summary>

**Parfait si vous voulez :** D√©cider exactement ce qui devient un souvenir.

**Comment √ßa marche :**

1. Cherchez les petits boutons fl√©ch√©s (‚ñ∫ ‚óÑ) sur vos messages de chat.
2. Cliquez sur ‚ñ∫ sur le premier message d'une sc√®ne importante.
3. Cliquez sur ‚óÑ sur le dernier message de cette sc√®ne.
4. Ouvrez Memory Books (ü™Ñ) et cliquez sur "Create Memory" (Cr√©er un souvenir).

**Ce que vous obtenez :**

- Contr√¥le total sur le contenu du souvenir.
- Parfait pour capturer des moments sp√©cifiques.
- Id√©al pour les sc√®nes complexes n√©cessitant des limites pr√©cises.

**Conseil de pro :** Les boutons fl√©ch√©s apparaissent quelques secondes apr√®s le chargement d'un chat. Si vous ne les voyez pas, attendez un moment ou rafra√Æchissez la page.

</details>

<details>
<summary><strong>‚ö° "Utilisateur Avanc√©" (Commandes Slash)</strong></summary>

**Parfait si vous voulez :** Des raccourcis clavier et des fonctionnalit√©s avanc√©es.

**Commandes essentielles :**

- `/scenememory 10-25` - Cr√©er un souvenir √† partir des messages 10 √† 25.
- `/creatememory` - Cr√©er un souvenir √† partir de la sc√®ne actuellement marqu√©e.
- `/nextmemory` - R√©sumer tout depuis le dernier souvenir.
- `/sideprompt "Relationship Tracker"` - Ex√©cuter un traceur personnalis√©.

**Ce que vous obtenez :**

- Cr√©ation de souvenirs ultra-rapide.
- Op√©rations par lots.
- Int√©gration avec des flux de travail personnalis√©s.

</details>

---

## üé® Side Prompts & Mod√®les (Fonctionnalit√© Avanc√©e)

Les **Side Prompts** (Invites Secondaires) sont des fragments de prompt r√©utilisables qui am√©liorent la g√©n√©ration de votre m√©moire sans modifier vos param√®tres principaux d'IA. Consid√©rez-les comme des "modules compl√©mentaires" qui donnent √† vos souvenirs une focalisation suppl√©mentaire ou des capacit√©s de suivi.

### üöÄ **D√©marrage Rapide avec les Mod√®les**

1. Ouvrez les param√®tres de Memory Books.
2. Cliquez sur le bouton **"Side Prompts"**.
3. Parcourez la **biblioth√®que de mod√®les** - choisissez quelque chose qui correspond √† votre histoire :
   - **Character Development Tracker** - Suit les changements de personnalit√© et la croissance.
   - **Relationship Dynamics** - Surveille les relations entre les personnages.
   - **Plot Thread Tracker** - Garde un ≈ìil sur les intrigues en cours.
   - **Mood & Atmosphere** - Capture le ton √©motionnel des sc√®nes.
   - **World Building Notes** - Enregistre les d√©tails du cadre et le lore.
4. Activez les mod√®les que vous voulez, personnalisez-les si besoin.
5. Vos souvenirs incluront d√©sormais ce suivi suppl√©mentaire automatiquement !

### ‚öôÔ∏è **Comment fonctionnent les Side Prompts**

- **Non-Intrusifs** : Ils ne modifient pas vos param√®tres principaux d'IA ou les prompts de personnage.
- **Contr√¥le par Chat** : Activez diff√©rents prompts pour diff√©rents chats.
- **Bas√© sur des Mod√®les** : Utilisez des mod√®les pr√©-construits ou cr√©ez des mod√®les personnalis√©s.
- **Int√©gration Automatique** : Une fois activ√©s, ils am√©liorent chaque souvenir cr√©√©.

### üõ†Ô∏è **G√©rer les Side Prompts**

- **Gestionnaire de Side Prompts** : Cr√©ez, √©ditez, dupliquez et organisez vos prompts.
- **Import/Export** : Partagez des mod√®les de prompts avec d'autres ou sauvegardez votre collection.
- **Bascule Rapide** : Activez/d√©sactivez les prompts instantan√©ment dans la fen√™tre contextuelle Side Prompts.
- **Aper√ßu en Direct** : Voyez quels prompts sont actifs pour le chat actuel.

### üí° **Exemples de Mod√®les**

- Biblioth√®que de mod√®les de Side Prompts (importez ce JSON) : [SidePromptTemplateLibrary.json](/resources/SidePromptTemplateLibrary.json)
- **"Se concentrer sur le dialogue et les interactions des personnages"**
- **"Suivre le statut actuel de la qu√™te et les objectifs"**
- **"Noter tout d√©tail de construction du monde (world-building) mentionn√©"**
- **"Surveiller la relation entre [Personnage A] et [Personnage B]"**

### üîß **Cr√©er des Side Prompts Personnalis√©s**

1. Ouvrez le Gestionnaire de Side Prompts.
2. Cliquez sur "Create New" (Cr√©er Nouveau).
3. √âcrivez votre prompt (exemple : "Toujours noter quel est le temps qu'il fait dans chaque sc√®ne").
4. Sauvegardez et activez-le.
5. Maintenant, tous vos souvenirs incluront un suivi de la m√©t√©o !

**Conseil de Pro** : Les Side Prompts fonctionnent mieux lorsqu'ils sont sp√©cifiques et cibl√©s. Au lieu de "tout suivre", essayez "suivre la tension romantique entre les personnages principaux".

---

### üß† Contr√¥le Avanc√© du Texte avec l'Extension Regex

**Vous voulez un contr√¥le ultime sur le texte envoy√© et re√ßu de l'IA ?** ST Memory Books s'int√®gre d√©sormais parfaitement avec l'extension officielle **Regex**, vous permettant de transformer automatiquement le texte √† l'aide de r√®gles personnalis√©es.

**Support Multi-S√©lection :** Vous pouvez maintenant s√©lectionner plusieurs scripts regex dans l'extension Regex. Tous les scripts activ√©s seront appliqu√©s dans l'ordre √† chaque √©tape (Prompt et R√©ponse), permettant des transformations puissantes et flexibles.

C'est une fonctionnalit√© avanc√©e parfaite pour les utilisateurs qui veulent :

- Nettoyer automatiquement les phrases r√©p√©titives ou les artefacts de la r√©ponse d'une IA.
- Reformater des parties de la transcription du chat avant que l'IA ne les voie.
- Standardiser la terminologie ou les manies des personnages √† la vol√©e.

#### **Comment √ßa marche : Deux Points d'Ancrage Simples**

L'int√©gration fonctionne en appliquant vos scripts regex activ√©s √† deux points critiques. Vous contr√¥lez quels scripts s'ex√©cutent en d√©finissant leur **Placement** dans l'√©diteur de l'extension Regex :

1.  **Modifier le Prompt (Texte Sortant)**
    - **Placement √† utiliser** : `User Input` (Entr√©e Utilisateur)
    - **Ce que √ßa fait** : Intercepte le prompt enti√®rement assembl√© (y compris l'historique du chat, les instructions syst√®me, etc.) juste avant qu'il ne soit envoy√© √† l'IA pour la g√©n√©ration de m√©moire ou de side prompt.
    - **Exemple d'utilisation** : Vous pourriez cr√©er un script pour remplacer automatiquement toutes les instances du surnom d'un personnage par son nom complet, assurant que l'IA a le bon contexte.

2.  **Modifier la R√©ponse (Texte Entrant)**
    - **Placement √† utiliser** : `AI Output` (Sortie IA)
    - **Ce que √ßa fait** : Intercepte la r√©ponse texte brute de l'IA _avant_ qu'elle ne soit analys√©e ou sauvegard√©e comme souvenir.
    - **Exemple d'utilisation** : Si votre mod√®le d'IA inclut souvent des phrases r√©p√©titives comme _"En tant que grand mod√®le de langage..."_ dans ses r√©sum√©s, vous pouvez cr√©er un script regex pour supprimer automatiquement cette phrase de chaque souvenir g√©n√©r√©.

#### **Exemple de D√©marrage Rapide : Nettoyer les R√©ponses de l'IA**

Disons que votre mod√®le d'IA ajoute syst√©matiquement `(OOC: J'esp√®re que ce r√©sum√© est utile !)` √† ses g√©n√©rations de m√©moire. Voici comment le supprimer automatiquement :

1.  **Allez dans l'Extension Regex** : Ouvrez le menu principal des extensions SillyTavern et allez dans **Regex**.
2.  **Cr√©ez un Nouveau Script** : Cliquez sur "Open Regex Editor" pour cr√©er un nouveau script regex.
3.  **Configurez le Script** :
    - **Script Name** : `Clean OOC Notes` (Nettoyer Notes HRP)
    - **Find Regex** : `/\\(OOC:.*?\\)/g` (Ceci trouve le texte "(OOC: ...)" et tout ce qui est √† l'int√©rieur).
    - **Replace String** : Laissez ce champ vide pour supprimer le texte trouv√©.
    - **Affects (Placement)** : D√©cochez toutes les cases sauf **AI Output**. C'est l'√©tape la plus importante !
    - **Activez le Script** : Assurez-vous que le script n'est pas d√©sactiv√©.
4.  **Sauvegardez et c'est fini !**

Maintenant, chaque fois que ST Memory Books re√ßoit une r√©ponse de l'IA, ce script s'ex√©cutera automatiquement, nettoyant le texte ind√©sirable avant que le souvenir ne soit sauvegard√© dans votre Lorebook.

---

## ‚öôÔ∏è Les Param√®tres qui comptent vraiment

Ne vous inqui√©tez pas, vous n'avez pas besoin de tout configurer ! Voici les param√®tres qui font la plus grande diff√©rence :

### üéõÔ∏è **Fr√©quence du R√©sum√© Auto (Auto-Summary)**

- **20-30 messages** : Id√©al pour les chats d√©taill√©s et lents.
- **40-60 messages** : Parfait pour les conversations plus rapides et pleines d'action.
- **80+ messages** : Pour les chats de groupe tr√®s rapides ou les conversations occasionnelles.

### üìù **Aper√ßus des Souvenirs (Memory Previews)**

- Mettez ceci sur **ON** pour revoir les souvenirs avant qu'ils ne soient sauvegard√©s.
- Vous pouvez √©diter, approuver ou r√©g√©n√©rer si l'IA a manqu√© quelque chose d'important.
- Recommand√© pour les intrigues importantes.

### üè∑Ô∏è **Titres des Souvenirs**

- Personnalisez la fa√ßon dont vos souvenirs sont nomm√©s.
- Utilisez `{{title}}` pour les titres g√©n√©r√©s par l'IA, `{{scene}}` pour les num√©ros de messages.
- Exemple : `"Chapitre {{title}} ({{scene}})"` devient `"Chapitre La Grande √âvasion (Sc√®ne 45-67)"`.

### üìö **Collections de Souvenirs** (Lorebooks)

- **Auto mode** : Utilise la collection de souvenirs par d√©faut de votre chat (le plus simple).
- **Manual mode** : Choisissez une collection sp√©cifique pour chaque chat (pour l'organisation).
- **Auto-create** : Cr√©e automatiquement de nouvelles collections (bon pour les nouveaux personnages).

---

## üîß D√©pannage (Quand √ßa ne marche pas)

### "Je ne vois pas l'option Memory Books !"

- V√©rifiez que l'extension est install√©e et activ√©e.
- Cherchez l'ic√¥ne de la baguette magique (ü™Ñ) √† c√¥t√© de votre entr√©e de chat.
- Essayez de rafra√Æchir la page.

### "Les boutons fl√©ch√©s (‚ñ∫ ‚óÑ) n'apparaissent pas !"

- Attendez 3-5 secondes apr√®s le chargement d'un chat - ils ont besoin de temps pour appara√Ætre.
- S'ils manquent toujours, rafra√Æchissez la page.
- Assurez-vous que ST Memory Books est activ√© dans les extensions.

### "L'Auto-Summary ne fonctionne pas !"

- V√©rifiez deux fois que "Auto-Summary" est activ√© dans les param√®tres de Memory Books.
- L'intervalle de messages a-t-il √©t√© atteint ? L'Auto-Summary attend suffisamment de nouveaux messages.
- Si vous avez report√© l'auto-summary, il peut attendre un certain nombre de messages.
- L'Auto-Summary ne traite que les nouveaux messages depuis le _dernier_ souvenir. Si vous avez supprim√© d'anciens souvenirs, il ne revient pas en arri√®re.

### "J'ai des erreurs concernant des Lorebooks manquants !"

- Allez dans les param√®tres de Memory Books.
- Soit liez un Lorebook √† votre chat (Mode Automatique), soit activez "Auto-create lorebook if none exists" (Cr√©er automatiquement un lorebook s'il n'en existe pas).

### "Parfois √ßa √©choue sans raison !"

- Assurez-vous que votre "Max Response Length" (dans les pr√©r√©glages SillyTavern) est r√©gl√© sur un nombre assez grand. Aiko recommande au moins 2000 tokens (Aiko en utilise 4000).
- Les messages d'erreur sont plus d√©taill√©s maintenant, mais si vous avez toujours des probl√®mes, veuillez contacter Aiko sur Github ou Discord.

### "Mes prompts personnalis√©s ne fonctionnent pas correctement !"

- V√©rifiez le "Summary Prompt Manager" dans les param√®tres de Memory Books.
- Assurez-vous que votre prompt demande √† l'IA de r√©pondre au **format JSON** (ex: `{ "title": "...", "content": "..." }`).

---

## üö´ Ce que ST Memory Books ne fait pas

- **Ce n'est pas un √©diteur g√©n√©ral de Lorebook :** Ce guide se concentre sur les entr√©es cr√©√©es par STMB. Pour l'√©dition g√©n√©rale de Lorebook, utilisez l'√©diteur de Lorebook int√©gr√© √† SillyTavern.

---

## üí° Obtenir de l'aide et plus d'infos

- **Infos plus d√©taill√©es :** [readme.md](readme.md)
- **Derni√®res mises √† jour :** [changelog.md](changelog.md)
- **Convertir d'anciens lorebooks :** [lorebookconverter.html](lorebookconverter.html)
- **Support communautaire :** Rejoignez la communaut√© SillyTavern sur Discord ! (Cherchez le fil üìïST Memory Books ou envoyez un MP √† @tokyoapple pour une aide directe.)
- **Bugs/fonctionnalit√©s :** Vous avez trouv√© un bug ou avez une super id√©e ? Ouvrez un ticket GitHub dans ce d√©p√¥t.

---

### üìö Passez √† la vitesse sup√©rieure avec l'Ordonnancement de Lorebook (STLO)

Pour une organisation avanc√©e de la m√©moire et une int√©gration plus profonde de l'histoire, nous recommandons fortement d'utiliser STMB avec [SillyTavern-LorebookOrdering (STLO)](https://github.com/aikohanasaki/SillyTavern-LorebookOrdering/blob/main/guides/STMB%20and%20STLO%20-%20English.md). Consultez le guide pour les meilleures pratiques, les instructions d'installation et des conseils !
