# ğŸ“• ST Memory Books - Dein KI-Chat-GedÃ¤chtnisassistent

**Verwandle deine endlosen Chat-GesprÃ¤che in organisierte, durchsuchbare Erinnerungen!**

Braucht dein Bot ein GedÃ¤chtnis, aber der Chat ist zu lang fÃ¼r den Kontext? MÃ¶chtest du automatisch wichtige Handlungspunkte verfolgen, ohne manuell Notizen zu machen? ST Memory Books macht genau das â€“ es beobachtet deine Chats und erstellt intelligente Zusammenfassungen, damit du nie wieder den Faden deiner Geschichte verlierst.

(Suchst du nach technischen Details hinter den Kulissen? Vielleicht mÃ¶chtest du stattdessen [Wie STMB funktioniert](userguides\howSTMBworks-en.md) lesen.)

---

## ğŸš€ Schnellstart (5 Minuten bis zur ersten Erinnerung!)

**Neu bei ST Memory Books?** Richten wir deine erste automatische Erinnerung mit nur wenigen Klicks ein:

### Schritt 1: Finde die Erweiterung

- Suche nach dem Zauberstab-Symbol (ğŸª„) neben deinem Chat-Eingabefeld.
- Klicke darauf und dann auf **"Memory Books"**.
- Du siehst nun das ST Memory Books Bedienfeld.

### Schritt 2: Schalte die Auto-Magie ein

- Suche im Bedienfeld nach **"Auto-Summary"**.
- Schalte es auf **ON**.
- Stelle ein, dass alle **20-30 Nachrichten** eine Erinnerung erstellt wird (ein guter Startpunkt).
- Das war's! ğŸ‰

### Schritt 3: Chatte ganz normal

- Chatte wie gewohnt weiter.
- Nach 20-30 neuen Nachrichten wird ST Memory Books automatisch:
  - Die besten Szenengrenzen auswÃ¤hlen
  - Deine KI bitten, eine Zusammenfassung zu schreiben
  - Diese in deiner Erinnerungssammlung speichern
  - Dir eine Benachrichtigung anzeigen, wenn es fertig ist

**Herzlichen GlÃ¼ckwunsch!** Du hast jetzt ein automatisiertes GedÃ¤chtnismanagement. Nie wieder vergessen, was vor einigen Kapiteln passiert ist!

---

## ğŸ’¡ Was ST Memory Books eigentlich macht

Betrachte ST Memory Books als deinen **persÃ¶nlichen KI-Bibliothekar** fÃ¼r Chat-GesprÃ¤che:

### ğŸ¤– **Automatische Zusammenfassungen**

_"Ich will nicht darÃ¼ber nachdenken, es soll einfach funktionieren"_

- Beobachtet deinen Chat im Hintergrund
- Erstellt automatisch alle X Nachrichten Erinnerungen
- Perfekt fÃ¼r lange Rollenspiele, kreatives Schreiben oder fortlaufende Geschichten

### âœ‹ **Manuelle Erinnerungserstellung**

_"Ich mÃ¶chte die Kontrolle darÃ¼ber, was gespeichert wird"_

- Markiere wichtige Szenen mit einfachen Pfeiltasten (â–º â—„)
- Erstelle Erinnerungen auf Abruf fÃ¼r besondere Momente
- GroÃŸartig, um wichtige Handlungspunkte oder Charakterentwicklungen festzuhalten

### ğŸ“Š **Side Prompts & Smarte Tracker**

_"Ich mÃ¶chte Beziehungen, HandlungsstrÃ¤nge oder Statistiken verfolgen"_

- Wiederverwendbare Prompt-Schnipsel, die die Generierung von Erinnerungen verbessern
- Vorlagenbibliothek mit gebrauchsfertigen Trackern
- Benutzerdefinierte KI-Prompts, die alles verfolgen, was du willst
- Automatische Aktualisierung von PunktestÃ¤nden, Beziehungsstatus, Handlungszusammenfassungen
- Beispiele: "Wer mag wen?", "Aktueller Quest-Status", "Charakter-Stimmungs-Tracker"

### ğŸ“š **Erinnerungssammlungen (Memory Collections)**

_Wo all deine Erinnerungen leben_

- Automatisch organisiert und durchsuchbar
- Funktioniert mit dem eingebauten Lorebook-System von SillyTavern
- Deine KI kann in neuen GesprÃ¤chen auf vergangene Erinnerungen zurÃ¼ckgreifen

---

## ğŸ¯ WÃ¤hle deinen Stil

<details>
<summary><strong>ğŸ”„ "Einstellen und Vergessen" (Empfohlen fÃ¼r AnfÃ¤nger)</strong></summary>

**Perfekt, wenn du willst:** Hands-off-Automatisierung, die einfach funktioniert

**So funktioniert es:**

1. Schalte "Auto-Summary" in den Einstellungen ein.
2. WÃ¤hle, wie oft Erinnerungen erstellt werden sollen (alle 20-50 Nachrichten funktioniert gut).
3. Chatte ganz normal weiter â€“ Erinnerungen passieren automatisch!

**Was du bekommst:**

- Keine manuelle Arbeit erforderlich
- Konsistente Erstellung von Erinnerungen
- Verpasse nie wichtige Story-Beats
- Funktioniert sowohl in Einzel- als auch in Gruppenchats

**Pro-Tipp:** Starte mit 30 Nachrichten und passe es dann an deinen Chat-Stil an. Schnelle Chats benÃ¶tigen vielleicht 50+, langsamere, detaillierte Chats eher 20.

</details>

<details>
<summary><strong>âœ‹ "Manuelle Kontrolle" (FÃ¼r selektive Erinnerungserstellung)</strong></summary>

**Perfekt, wenn du willst:** Genau entscheiden, was zu einer Erinnerung wird

**So funktioniert es:**

1. Suche nach kleinen Pfeiltasten (â–º â—„) an deinen Chat-Nachrichten.
2. Klicke â–º bei der ersten Nachricht einer wichtigen Szene.
3. Klicke â—„ bei der letzten Nachricht dieser Szene.
4. Ã–ffne Memory Books (ğŸª„) und klicke auf "Create Memory" (Erinnerung erstellen).

**Was du bekommst:**

- Volle Kontrolle Ã¼ber den Inhalt der Erinnerung
- Perfekt zum Festhalten spezifischer Momente
- GroÃŸartig fÃ¼r komplexe Szenen, die genaue Abgrenzungen benÃ¶tigen

**Pro-Tipp:** Die Pfeiltasten erscheinen einige Sekunden nach dem Laden eines Chats. Wenn du sie nicht siehst, warte einen Moment oder aktualisiere die Seite.

</details>

<details>
<summary><strong>âš¡ "Power-User" (Slash-Befehle)</strong></summary>

**Perfekt, wenn du willst:** TastaturkÃ¼rzel und erweiterte Funktionen

**Wichtige Befehle:**

- `/scenememory 10-25` - Erstelle eine Erinnerung aus den Nachrichten 10 bis 25
- `/creatememory` - Erstelle eine Erinnerung aus der aktuell markierten Szene
- `/nextmemory` - Fasse alles seit der letzten Erinnerung zusammen
- `/sideprompt "Relationship Tracker"` - FÃ¼hre einen benutzerdefinierten Tracker aus

**Was du bekommst:**

- Blitzschnelle Erstellung von Erinnerungen
- Stapelverarbeitung
- Integration in benutzerdefinierte Workflows

</details>

---

## ğŸ¨ Side Prompts & Vorlagen (Erweiterte Funktion)

**Side Prompts** sind wiederverwendbare Prompt-Schnipsel, die deine Erinnerungsgenerierung verbessern, ohne deine KI-Haupteinstellungen zu Ã¤ndern. Betrachte sie als "Add-ons", die deinen Erinnerungen zusÃ¤tzlichen Fokus oder Tracking-FÃ¤higkeiten verleihen.

### ğŸš€ **Schnellstart mit Vorlagen**

1. Ã–ffne die Memory Books Einstellungen.
2. Klicke auf den Button **"Side Prompts"**.
3. DurchstÃ¶bere die **Vorlagenbibliothek (Template Library)** â€“ wÃ¤hle etwas, das zu deiner Geschichte passt:
   - **Character Development Tracker** - Verfolgt PersÃ¶nlichkeitsverÃ¤nderungen und Wachstum
   - **Relationship Dynamics** - Ãœberwacht Beziehungen zwischen Charakteren
   - **Plot Thread Tracker** - BehÃ¤lt laufende HandlungsstrÃ¤nge im Auge
   - **Mood & Atmosphere** - Erfasst den emotionalen Ton von Szenen
   - **World Building Notes** - Notiert Details zum Setting und zur Lore
4. Aktiviere die gewÃ¼nschten Vorlagen, passe sie bei Bedarf an.
5. Deine Erinnerungen enthalten nun automatisch dieses zusÃ¤tzliche Tracking!

### âš™ï¸ **Wie Side Prompts funktionieren**

- **Nicht-invasiv**: Sie Ã¤ndern weder deine KI-Haupteinstellungen noch die Charakter-Prompts.
- **Pro-Chat-Kontrolle**: Aktiviere unterschiedliche Prompts fÃ¼r verschiedene Chats.
- **Vorlagenbasiert**: Nutze vorgefertigte Vorlagen oder erstelle eigene.
- **Automatische Integration**: Einmal aktiviert, verbessern sie jede erstellte Erinnerung.

### ğŸ› ï¸ **Verwalten von Side Prompts**

- **Side Prompts Manager**: Erstelle, bearbeite, dupliziere und organisiere deine Prompts.
- **Import/Export**: Teile Prompt-Vorlagen mit anderen oder sichere deine Sammlung.
- **Schnell-Schalter**: Aktiviere/deaktiviere Prompts sofort im Side Prompts Popup.
- **Live-Vorschau**: Sieh, welche Prompts fÃ¼r den aktuellen Chat aktiv sind.

### ğŸ’¡ **Vorlagen-Beispiele**

- Side Prompt Vorlagenbibliothek (importiere diese JSON): [SidePromptTemplateLibrary.json](/resources/SidePromptTemplateLibrary.json)
- **"Konzentriere dich auf Dialoge und Charakterinteraktionen"**
- **"Verfolge den aktuellen Quest-Status und Ziele"**
- **"Notiere alle erwÃ¤hnten Details zum World-Building"**
- **"Ãœberwache die Beziehung zwischen [Charakter A] und [Charakter B]"**

### ğŸ”§ **Erstellen eigener Side Prompts**

1. Ã–ffne den Side Prompts Manager.
2. Klicke auf "Create New" (Neu erstellen).
3. Schreibe deinen Prompt (Beispiel: "Notiere immer, wie das Wetter in jeder Szene ist").
4. Speichere und aktiviere ihn.
5. Jetzt werden alle deine Erinnerungen das Wetter-Tracking beinhalten!

**Pro-Tipp**: Side Prompts funktionieren am besten, wenn sie spezifisch und fokussiert sind. Statt "verfolge alles", versuche "verfolge die romantische Spannung zwischen den Hauptcharakteren".

---

### ğŸ§  Erweiterte Textkontrolle mit der Regex-Erweiterung

**Willst du die ultimative Kontrolle Ã¼ber den Text, der an die KI gesendet und von ihr empfangen wird?** ST Memory Books integriert sich jetzt nahtlos mit der offiziellen **Regex**-Erweiterung, was es dir ermÃ¶glicht, Text automatisch mithilfe von benutzerdefinierten Regeln zu transformieren.

**UnterstÃ¼tzung fÃ¼r Mehrfachauswahl:** Du kannst jetzt mehrere Regex-Skripte in der Regex-Erweiterung auswÃ¤hlen. Alle aktivierten Skripte werden in der Reihenfolge bei jedem Schritt (Prompt und Antwort) angewendet, was mÃ¤chtige und flexible Transformationen ermÃ¶glicht.

Dies ist eine fortgeschrittene Funktion, perfekt fÃ¼r Benutzer, die:

- Automatisch wiederholende Phrasen oder Artefakte aus einer KI-Antwort bereinigen wollen.
- Teile des Chat-Transkripts umformatieren wollen, bevor die KI sie sieht.
- Terminologie oder Charakter-Eigenarten "on the fly" standardisieren wollen.

#### **Wie es funktioniert: Zwei einfache Hooks**

Die Integration funktioniert, indem deine aktivierten Regex-Skripte an zwei kritischen Punkten angewendet werden. Du kontrollierst, welche Skripte ausgefÃ¼hrt werden, indem du deren **Placement** (Platzierung) im Editor der Regex-Erweiterung festlegst:

1.  **Bearbeiten des Prompts (Ausgehender Text)**
    - **Zu verwendende Platzierung**: `User Input`
    - **Was es tut**: FÃ¤ngt den fertig zusammengestellten Prompt ab (inklusive Chat-Verlauf, Systemanweisungen usw.), kurz bevor er zur Erstellung von Erinnerungen oder Side Prompts an die KI gesendet wird.
    - **Anwendungsbeispiel**: Du kÃ¶nntest ein Skript erstellen, das automatisch alle Instanzen des Spitznamens eines Charakters durch seinen vollen Namen ersetzt, um sicherzustellen, dass die KI den richtigen Kontext hat.

2.  **Bearbeiten der Antwort (Eingehender Text)**
    - **Zu verwendende Platzierung**: `AI Output`
    - **Was es tut**: FÃ¤ngt die rohe Textantwort der KI ab, _bevor_ sie geparst oder als Erinnerung gespeichert wird.
    - **Anwendungsbeispiel**: Wenn dein KI-Modell oft wiederholende Phrasen wie _"Als groÃŸes Sprachmodell..."_ in seinen Zusammenfassungen verwendet, kannst du ein Regex-Skript erstellen, um diese Phrase automatisch aus jeder generierten Erinnerung zu entfernen.

#### **Schnellstart-Beispiel: Bereinigen von KI-Antworten**

Nehmen wir an, dein KI-Modell fÃ¼gt konsequent `(OOC: Ich hoffe, diese Zusammenfassung ist hilfreich!)` zu seinen Erinnerungs-Generationen hinzu. So kannst du das automatisch entfernen:

1.  **Gehe zur Regex-Erweiterung**: Ã–ffne das HauptmenÃ¼ fÃ¼r SillyTavern-Erweiterungen und gehe zu **Regex**.
2.  **Erstelle ein neues Skript**: Klicke auf "Open Regex Editor", um ein neues Regex-Skript zu erstellen.
3.  **Konfiguriere das Skript**:
    - **Script Name**: `Clean OOC Notes`
    - **Find Regex**: `/\\(OOC:.*?\\)/g` (Dies findet den Text "(OOC: ...)" und alles darin).
    - **Replace String**: Lasse dies leer, um den Ã¼bereinstimmenden Text zu lÃ¶schen.
    - **Affects (Placement)**: Deaktiviere alle KÃ¤stchen auÃŸer **AI Output**. Das ist der wichtigste Schritt!
    - **Aktiviere das Skript**: Stelle sicher, dass das Skript nicht deaktiviert ist.
4.  **Speichern und Fertig!**

Jedes Mal, wenn ST Memory Books nun eine Antwort von der KI erhÃ¤lt, wird dieses Skript automatisch ausgefÃ¼hrt und den unerwÃ¼nschten Text bereinigen, bevor die Erinnerung in deinem Lorebook gespeichert wird.

---

## âš™ï¸ Einstellungen, die wirklich wichtig sind

Keine Sorge â€“ du musst nicht alles konfigurieren! Hier sind die Einstellungen, die den grÃ¶ÃŸten Unterschied machen:

### ğŸ›ï¸ **HÃ¤ufigkeit der Auto-Zusammenfassung**

- **20-30 Nachrichten**: GroÃŸartig fÃ¼r detaillierte, langsamere Chats.
- **40-60 Nachrichten**: Perfekt fÃ¼r schnellere, actionreiche Unterhaltungen.
- **80+ Nachrichten**: FÃ¼r sehr schnelle Gruppenchats oder lockere GesprÃ¤che.

### ğŸ“ **Erinnerungsvorschau (Memory Previews)**

- Schalte dies EIN, um Erinnerungen zu Ã¼berprÃ¼fen, bevor sie gespeichert werden.
- Du kannst sie bearbeiten, genehmigen oder neu generieren lassen, falls die KI etwas Wichtiges Ã¼bersehen hat.
- Empfohlen fÃ¼r wichtige HandlungsstrÃ¤nge.

### ğŸ·ï¸ **Erinnerungstitel**

- Passe an, wie deine Erinnerungen benannt werden.
- Verwende `{{title}}` fÃ¼r KI-generierte Titel, `{{scene}}` fÃ¼r Nachrichtennummern.
- Beispiel: `"Kapitel {{title}} ({{scene}})"` wird zu `"Kapitel Die groÃŸe Flucht (Szene 45-67)"`.

### ğŸ“š **Erinnerungssammlungen** (Lorebooks)

- **Auto mode**: Verwendet die Standard-Erinnerungssammlung deines Chats (am einfachsten).
- **Manual mode**: WÃ¤hle eine spezifische Sammlung fÃ¼r jeden Chat (zur Organisation).
- **Auto-create**: Erstellt automatisch neue Sammlungen (gut fÃ¼r neue Charaktere).

---

## ğŸ”§ Fehlerbehebung (Wenn Dinge nicht funktionieren)

### "Ich sehe die Memory Books Option nicht!"

- PrÃ¼fe, ob die Erweiterung installiert und aktiviert ist.
- Suche nach dem Zauberstab-Symbol (ğŸª„) neben deiner Chat-Eingabe.
- Versuche, die Seite neu zu laden.

### "Die Pfeiltasten (â–º â—„) tauchen nicht auf!"

- Warte 3-5 Sekunden nach dem Laden eines Chats â€“ sie brauchen Zeit zum Erscheinen.
- Wenn sie immer noch fehlen, aktualisiere die Seite.
- Stelle sicher, dass ST Memory Books in den Erweiterungen aktiviert ist.

### "Auto-Summary funktioniert nicht!"

- ÃœberprÃ¼fe doppelt, ob "Auto-Summary" in den Memory Books Einstellungen aktiviert ist.
- Wurde das Nachrichtenintervall erreicht? Auto-Summary wartet auf genÃ¼gend neue Nachrichten.
- Wenn du Auto-Summary aufgeschoben hast, wartet es vielleicht bis zu einer bestimmten Nachrichtenanzahl.
- Auto-Summary verarbeitet nur neue Nachrichten seit der _letzten_ Erinnerung. Wenn du alte Erinnerungen gelÃ¶scht hast, geht es nicht zurÃ¼ck.

### "Ich bekomme Fehler wegen fehlender Lorebooks!"

- Gehe zu den Memory Books Einstellungen.
- Binde entweder ein Lorebook an deinen Chat (Automatic Mode) oder aktiviere "Auto-create lorebook if none exists" (Lorebook automatisch erstellen, falls keins existiert).

### "Manchmal schlÃ¤gt es ohne Grund fehl!"

- Stelle sicher, dass deine "Max Response Length" (in den SillyTavern Voreinstellungen) auf eine ausreichend groÃŸe Zahl eingestellt ist. Aiko empfiehlt mindestens 2000 Tokens (Aiko verwendet 4000).
- Die Fehlermeldungen sind jetzt detaillierter, aber wenn du immer noch Probleme hast, kontaktiere bitte Aiko auf Github oder Discord.

### "Meine eigenen Prompts funktionieren nicht richtig!"

- ÃœberprÃ¼fe den "Summary Prompt Manager" in den Memory Books Einstellungen.
- Stelle sicher, dass dein Prompt die KI anweist, im **JSON-Format** zu antworten (z. B. `{ "title": "...", "content": "..." }`).

---

## ğŸš« Was ST Memory Books nicht macht

- **Kein allgemeiner Lorebook-Editor:** Dieser Leitfaden konzentriert sich auf EintrÃ¤ge, die von STMB erstellt wurden. FÃ¼r die allgemeine Bearbeitung von Lorebooks verwende den in SillyTavern eingebauten Lorebook-Editor.

---

## ğŸ’¡ Hilfe & Mehr Infos

- **Detailliertere Infos:** [readme.md](readme.md)
- **Neueste Updates:** [changelog.md](changelog.md)
- **Alte Lorebooks konvertieren:** [lorebookconverter.html](lorebookconverter.html)
- **Community-Support:** Tritt der SillyTavern-Community auf Discord bei! (Suche nach dem ğŸ“•ST Memory Books Thread oder schreibe @tokyoapple direkt fÃ¼r Hilfe.)
- **Bugs/Features:** Einen Fehler gefunden oder eine tolle Idee? ErÃ¶ffne ein GitHub Issue in diesem Repository.

---

### ğŸ“š Power Up mit Lorebook Ordering (STLO)

FÃ¼r eine fortgeschrittene Organisation von Erinnerungen und eine tiefere Integration in die Geschichte empfehlen wir dringend die Verwendung von STMB zusammen mit [SillyTavern-LorebookOrdering (STLO)](https://github.com/aikohanasaki/SillyTavern-LorebookOrdering/blob/main/guides/STMB%20and%20STLO%20-%20English.md). Sieh dir den Leitfaden fÃ¼r Best Practices, Einrichtungsanweisungen und Tipps an!
