# ğŸ“• ST Memory Books - Tu Asistente de Memoria de Chat con IA

**Â¡Convierte tus interminables conversaciones de chat en memorias organizadas y buscables!**

Â¿Necesitas que el bot recuerde cosas, pero el chat es demasiado largo para el contexto? Â¿Quieres hacer un seguimiento automÃ¡tico de los puntos importantes de la trama sin tomar notas manualmente? ST Memory Books hace exactamente eso: observa tus chats y crea resÃºmenes inteligentes para que nunca mÃ¡s pierdas el hilo de tu historia.

---

## ğŸš€ Inicio RÃ¡pido (Â¡5 Minutos para Tu Primera Memoria!)

**Â¿Nuevo en ST Memory Books?** Vamos a configurarte con tu primera memoria automÃ¡tica en solo unos pocos clics:

### Paso 1: Encuentra la ExtensiÃ³n

- Busca el icono de la varita mÃ¡gica () junto a tu cuadro de entrada de chat
- Haz clic en Ã©l y luego en **"Memory Books"**
- VerÃ¡s el panel de control de ST Memory Books

### Paso 2: Activa la Magia AutomÃ¡tica

- En el panel de control, busca **"Auto-Summary"**
- ActÃ­valo
- ConfigÃºralo para crear memorias cada **20-30 mensajes** (un buen punto de partida)
- Â¡Eso es todo! ğŸ‰

### Paso 3: Chatea Normalmente

- Sigue chateando como de costumbre
- DespuÃ©s de 20-30 mensajes nuevos, ST Memory Books harÃ¡ automÃ¡ticamente lo siguiente:
  - Elegir los mejores lÃ­mites de la escena
  - Pedirle a tu IA que escriba un resumen
  - Guardarlo en tu colecciÃ³n de memorias
  - Mostrarte una notificaciÃ³n cuando haya terminado

**Â¡Felicidades!** Ahora tienes una gestiÃ³n de memoria automatizada. Â¡No mÃ¡s olvidos de lo que sucediÃ³ hace capÃ­tulos!

---

## ğŸ’¡ QuÃ© Hace Realmente ST Memory Books

Piensa en ST Memory Books como tu **bibliotecario personal de IA** para las conversaciones de chat:

### ğŸ¤– **ResÃºmenes AutomÃ¡ticos**

_"No quiero pensar en ello, solo quiero que funcione"_

- Observa tu chat en segundo plano
- Crea memorias automÃ¡ticamente cada X mensajes
- Perfecto para juegos de rol largos, escritura creativa o historias en curso

### âœ‹ **CreaciÃ³n Manual de Memorias**

_"Quiero tener el control sobre lo que se guarda"_

- Marca escenas importantes con simples botones de flecha (â–º â—„)
- Crea memorias bajo demanda para momentos especiales
- Ideal para capturar puntos clave de la trama o desarrollos de personajes

### ğŸ“Š **Prompts Laterales y Rastreadores Inteligentes**

_"Quiero hacer un seguimiento de las relaciones, los hilos de la trama o las estadÃ­sticas"_

- Fragmentos de prompt reutilizables que mejoran la generaciÃ³n de memorias
- Biblioteca de plantillas incorporada con rastreadores listos para usar
- Prompts de IA personalizados que rastrean cualquier cosa que desees
- Actualiza automÃ¡ticamente los marcadores, el estado de las relaciones, los resÃºmenes de la trama
- Ejemplos: "Â¿A quiÃ©n le gusta quiÃ©n?", "Estado actual de la misiÃ³n", "Rastreador de humor del personaje"

### ğŸ“š **Colecciones de Memorias**

_Donde viven todas tus memorias_

- Organizadas y buscables automÃ¡ticamente
- Funciona con el sistema de lorebook incorporado de SillyTavern
- Tu IA puede hacer referencia a memorias pasadas en nuevas conversaciones

---

## ğŸ¯ Elige Tu Estilo

<details>
<summary><strong>ğŸ”„ "Configurar y Olvidar" (Recomendado para Principiantes)</strong></summary>

**Perfecto si quieres:** AutomatizaciÃ³n sin intervenciÃ³n que simplemente funciona

**CÃ³mo funciona:**

1. Activa "Auto-Summary" en los ajustes
2. Elige con quÃ© frecuencia crear memorias (cada 20-50 mensajes funciona bien)
3. Sigue chateando normalmente - Â¡las memorias se crean automÃ¡ticamente!

**Lo que obtienes:**

- No se requiere trabajo manual
- CreaciÃ³n de memorias consistente
- Nunca te pierdes los momentos importantes de la historia
- Funciona tanto en chats individuales como en grupales

**Consejo profesional:** Comienza con 30 mensajes y luego ajÃºstalo segÃºn tu estilo de chat. Los chats rÃ¡pidos pueden querer mÃ¡s de 50, los chats detallados mÃ¡s lentos pueden preferir 20.

</details>

<details>
<summary><strong>âœ‹ "Control Manual" (Para la CreaciÃ³n Selectiva de Memorias)</strong></summary>

**Perfecto si quieres:** Decidir exactamente quÃ© se convierte en una memoria

**CÃ³mo funciona:**

1. Busca los pequeÃ±os botones de flecha (â–º â—„) en tus mensajes de chat
2. Haz clic en â–º en el primer mensaje de una escena importante
3. Haz clic en â—„ en el Ãºltimo mensaje de esa escena
4. Abre Memory Books (ğŸª„) y haz clic en "Crear Memoria"

**Lo que obtienes:**

- Control total sobre el contenido de la memoria
- Perfecto para capturar momentos especÃ­ficos
- Ideal para escenas complejas que necesitan lÃ­mites cuidadosos

**Consejo profesional:** Los botones de flecha aparecen unos segundos despuÃ©s de cargar un chat. Si no los ves, espera un momento o actualiza la pÃ¡gina.

</details>

<details>
<summary><strong>âš¡ "Usuario Avanzado" (Comandos de Barra)</strong></summary>

**Perfecto si quieres:** Atajos de teclado y funciones avanzadas

**Comandos esenciales:**

- `/scenememory 10-25` - Crear memoria de los mensajes 10 al 25
- `/creatememory` - Crear memoria de la escena marcada actualmente
- `/nextmemory` - Resumir todo desde la Ãºltima memoria
- `/sideprompt "Rastreador de Relaciones"` - Ejecutar un rastreador personalizado

**Lo que obtienes:**

- CreaciÃ³n de memorias ultrarrÃ¡pida
- Operaciones por lotes
- IntegraciÃ³n con flujos de trabajo personalizados

</details>

---

## ğŸ¨ Prompts Laterales y Plantillas (FunciÃ³n Avanzada)

Los **Prompts Laterales** son fragmentos de prompt reutilizables que mejoran la generaciÃ³n de tus memorias sin cambiar tus ajustes principales de IA. PiÃ©nsalos como "complementos" que le dan a tus memorias un enfoque extra o capacidades de seguimiento.

### ğŸš€ **Inicio RÃ¡pido con Plantillas**

1. Abre los ajustes de Memory Books
2. Haz clic en el botÃ³n **"Side Prompts"**
3. Explora la **biblioteca de plantillas** - elige algo que se ajuste a tu historia:
   - **Rastreador de Desarrollo de Personajes** - Rastrea los cambios y el crecimiento de la personalidad
   - **DinÃ¡micas de RelaciÃ³n** - Monitorea las relaciones entre los personajes
   - **Rastreador de Hilos de Trama** - Mantiene un registro de las lÃ­neas argumentales en curso
   - **Humor y AtmÃ³sfera** - Captura el tono emocional de las escenas
   - **Notas de ConstrucciÃ³n de Mundo** - Registra los detalles del entorno y el lore
4. Habilita las plantillas que quieras, personalÃ­zalas si es necesario
5. Â¡Tus memorias ahora incluirÃ¡n este seguimiento extra automÃ¡ticamente!

### âš™ï¸ **CÃ³mo Funcionan los Prompts Laterales**

- **No Intrusivos**: No cambian tus ajustes principales de IA ni los prompts de los personajes
- **Control por Chat**: Habilita diferentes prompts para diferentes chats
- **Basados en Plantillas**: Usa plantillas preconstruidas o crea las tuyas propias
- **IntegraciÃ³n AutomÃ¡tica**: Una vez habilitados, mejoran cada memoria creada

### ğŸ› ï¸ **GestiÃ³n de Prompts Laterales**

- **Gestor de Prompts Laterales**: Crea, edita, duplica y organiza tus prompts
- **Importar/Exportar**: Comparte plantillas de prompts con otros o haz una copia de seguridad de tu colecciÃ³n
- **ActivaciÃ³n RÃ¡pida**: Habilita/deshabilita prompts instantÃ¡neamente en la ventana emergente de Prompts Laterales
- **Vista Previa en Vivo**: Ve quÃ© prompts estÃ¡n activos para el chat actual

### ğŸ’¡ **Ejemplos de Plantillas**

- Biblioteca de Plantillas de Prompts Laterales (importa este JSON): [SidePromptTemplateLibrary.json](/resources/SidePromptTemplateLibrary.json)
- **"Centrarse en el diÃ¡logo y las interacciones de los personajes"**
- **"Rastrear el estado actual de la misiÃ³n y los objetivos"**
- **"Anotar cualquier detalle de construcciÃ³n de mundo mencionado"**
- **"Monitorear la relaciÃ³n entre [Personaje A] y [Personaje B]"**

### ğŸ”§ **CreaciÃ³n de Prompts Laterales Personalizados**

1. Abre el Gestor de Prompts Laterales
2. Haz clic en "Crear Nuevo"
3. Escribe tu prompt (ejemplo: "Anotar siempre cÃ³mo estÃ¡ el clima en cada escena")
4. GuÃ¡rdalo y habilÃ­talo
5. Â¡Ahora todas tus memorias incluirÃ¡n el seguimiento del clima!

**Consejo Profesional**: Los Prompts Laterales funcionan mejor cuando son especÃ­ficos y enfocados. En lugar de "rastrear todo", prueba "rastrear la tensiÃ³n romÃ¡ntica entre los personajes principales".

---

### ğŸ§  Control de Texto Avanzado con la ExtensiÃ³n Regex

**Â¿Quieres el mÃ¡ximo control sobre el texto que se envÃ­a y se recibe de la IA?** ST Memory Books ahora se integra a la perfecciÃ³n con la extensiÃ³n oficial **Regex**, permitiÃ©ndote transformar texto automÃ¡ticamente usando reglas personalizadas.

Esta es una funciÃ³n avanzada perfecta para usuarios que quieren:

- Limpiar automÃ¡ticamente frases repetitivas o artefactos de la respuesta de una IA.
- Reformatear partes de la transcripciÃ³n del chat antes de que la IA lo vea.
- Estandarizar la terminologÃ­a o los gestos de los personajes sobre la marcha.

#### **CÃ³mo Funciona: Dos Ganchos Simples**

La integraciÃ³n funciona aplicando tus scripts de regex habilitados en dos puntos crÃ­ticos. TÃº controlas quÃ© scripts se ejecutan configurando su **UbicaciÃ³n** en el editor de la extensiÃ³n Regex:

1.  **Modificando el Prompt (Texto Saliente)**
    - **UbicaciÃ³n a usar**: `User Input`
    - **QuÃ© hace**: Intercepta el prompt completamente ensamblado (incluyendo el historial del chat, instrucciones del sistema, etc.) justo antes de que se envÃ­e a la IA para la generaciÃ³n de memorias o prompts laterales.
    - **Caso de Uso de Ejemplo**: PodrÃ­as crear un script para reemplazar automÃ¡ticamente todas las instancias del apodo de un personaje por su nombre completo, asegurando que la IA tenga el contexto adecuado.

2.  **Modificando la Respuesta (Texto Entrante)**
    - **UbicaciÃ³n a usar**: `AI Output`
    - **QuÃ© hace**: Intercepta la respuesta de texto cruda de la IA _antes_ de que se analice o se guarde como una memoria.
    - **Caso de Uso de Ejemplo**: Si tu modelo de IA a menudo incluye frases repetitivas como _"Como un gran modelo de lenguaje..."_ en sus resÃºmenes, puedes crear un script de regex para eliminar automÃ¡ticamente esta frase de cada memoria que genera.

#### **Ejemplo de Inicio RÃ¡pido: Limpiando Respuestas de la IA**

Digamos que tu modelo de IA consistentemente aÃ±ade `(OOC: Â¡Espero que este resumen sea Ãºtil!)` a sus generaciones de memoria. AsÃ­ es como puedes eliminarlo automÃ¡ticamente:

1.  **Ve a la ExtensiÃ³n Regex**: Abre el menÃº principal de extensiones de SillyTavern y ve a **Regex**.
2.  **Crea un Nuevo Script**: Haz clic en "Open Regex Editor" para crear un nuevo script de regex.
3.  **Configura el Script**:
    - **Nombre del Script**: `Limpiar Notas OOC`
    - **Find Regex**: `/\\(OOC:.*?\\)/g` (Esto encuentra el texto "(OOC: ...)" y todo lo que contiene).
    - **Replace String**: DÃ©jalo en blanco para eliminar el texto coincidente.
    - **Afecta (UbicaciÃ³n)**: Desmarca todas las casillas excepto **AI Output**. Â¡Este es el paso mÃ¡s importante!
    - **Habilita el Script**: AsegÃºrate de que el script no estÃ© deshabilitado.
4.  **Â¡Guarda y Listo!**

Ahora, cada vez que ST Memory Books obtenga una respuesta de la IA, este script se ejecutarÃ¡ automÃ¡ticamente, limpiando el texto no deseado antes de que la memoria se guarde en tu libro de conocimientos.

---

## âš™ï¸ Ajustes que Realmente Importan

No te preocupes, Â¡no necesitas configurar todo! AquÃ­ estÃ¡n los ajustes que marcan la mayor diferencia:

### ğŸ›ï¸ **Frecuencia de Auto-Resumen**

- **20-30 mensajes**: Ideal para chats detallados y mÃ¡s lentos
- **40-60 mensajes**: Perfecto para conversaciones mÃ¡s rÃ¡pidas y llenas de acciÃ³n
- **MÃ¡s de 80 mensajes**: Para chats grupales muy rÃ¡pidos o conversaciones casuales

### ğŸ“ **Vistas Previas de Memoria**

- Activa esto para revisar las memorias antes de que se guarden
- Puedes editar, aprobar o regenerar si la IA omitiÃ³ algo importante
- Recomendado para lÃ­neas argumentales importantes

### ğŸ·ï¸ **TÃ­tulos de Memoria**

- Personaliza cÃ³mo se nombran tus memorias
- Usa `{{title}}` para tÃ­tulos generados por la IA, `{{scene}}` para los nÃºmeros de mensaje
- Ejemplo: `"CapÃ­tulo {{title}} ({{scene}})"` se convierte en `"CapÃ­tulo La Gran Escapada (Escena 45-67)"`

### ğŸ“š **Colecciones de Memorias** (Lorebooks)

- **Modo automÃ¡tico**: Usa la colecciÃ³n de memoria predeterminada de tu chat (el mÃ¡s fÃ¡cil)
- **Modo manual**: Elige una colecciÃ³n especÃ­fica para cada chat (para organizaciÃ³n)
- **CreaciÃ³n automÃ¡tica**: Crea nuevas colecciones automÃ¡ticamente (bueno para nuevos personajes)

---

## ğŸ”§ SoluciÃ³n de Problemas (Cuando las Cosas No Funcionan)

### "Â¡No veo la opciÃ³n de Memory Books!"

- Verifica que la extensiÃ³n estÃ© instalada y habilitada
- Busca el icono de la varita mÃ¡gica () junto a tu entrada de chat
- Intenta refrescar la pÃ¡gina

### "Â¡Los botones de flecha (â–º â—„) no aparecen!"

- Espera 3-5 segundos despuÃ©s de cargar un chat, necesitan tiempo para aparecer
- Si aÃºn faltan, refresca la pÃ¡gina
- AsegÃºrate de que ST Memory Books estÃ© habilitado en las extensiones

### "Â¡El Resumen AutomÃ¡tico no funciona!"

- Verifica dos veces que "Auto-Summary" estÃ© habilitado en los ajustes de Memory Books
- Â¿Se ha alcanzado el intervalo de mensajes? El resumen automÃ¡tico espera a que haya suficientes mensajes nuevos
- Si pospusiste el resumen automÃ¡tico, podrÃ­a estar esperando hasta un cierto nÃºmero de mensajes
- El resumen automÃ¡tico solo procesa los mensajes nuevos desde la _Ãºltima_ memoria. Si eliminaste memorias antiguas, no retrocede.

### "Â¡Recibo errores sobre lorebooks faltantes!"

- Ve a los ajustes de Memory Books
- O vincula un lorebook a tu chat (Modo AutomÃ¡tico) o habilita "Crear automÃ¡ticamente un lorebook si no existe"

### "Â¡A veces falla sin razÃ³n aparente!"

- AsegÃºrate de que tu Longitud MÃ¡xima de Respuesta (en los preajustes de SillyTavern) estÃ© configurada en un nÃºmero suficientemente grande. Aiko recomienda al menos 2000 tokens (Aiko usa 4000).
- Los mensajes de error son mÃ¡s detallados ahora, pero si sigues teniendo problemas, por favor contacta a Aiko en Github o Discord.

### "Â¡Mis prompts personalizados no funcionan bien!"

- Revisa el "Gestor de Prompts de Resumen" en los ajustes de Memory Books
- AsegÃºrate de que tu prompt instruya a la IA para que responda en **formato JSON** (p. ej., `{ "title": "...", "content": "..." }`)

---

## ğŸš« Lo que ST Memory Books No Hace

- **No es un editor de lorebook general:** Esta guÃ­a se centra en las entradas creadas por STMB. Para la ediciÃ³n general de lorebooks, usa el editor de lorebook incorporado de SillyTavern.

---

## ğŸ’¡ Obtener Ayuda y MÃ¡s InformaciÃ³n

- **InformaciÃ³n mÃ¡s detallada:** [readme.md](readme.md)
- **Ãšltimas actualizaciones:** [changelog.md](changelog.md)
- **Convertir lorebooks antiguos:** [lorebookconverter.html](lorebookconverter.html)
- **Soporte de la comunidad:** Â¡Ãšnete a la comunidad de SillyTavern en Discord! (Busca el hilo de ğŸ“•ST Memory Books o envÃ­a un mensaje directo a @tokyoapple para obtener ayuda directa).
- **Errores/caracterÃ­sticas:** Â¿Encontraste un error o tienes una gran idea? Abre un issue en GitHub en este repositorio.
